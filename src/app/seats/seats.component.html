<app-header></app-header>
<div class="bg-[#efefef]">
    <div class="container mx-auto p-4 max-w-7xl">

        <p *ngIf="isLoading" class="text-blue-500">Carregando poltronas...</p>

        <p *ngIf="errorMessage" class="text-red-500">{{ errorMessage }}</p>

        <!-- <div *ngFor="let floor of organizedSeats">
            {{floor | json}}
        </div> -->

        <div class="flex items-center justify-center">
            <h1
                class="font-bold text-lg text-[#1B2642] border-b border-[#FCB316] w-fit px-4">
                Selecione a quantidade de passageiros marcando as poltronas
                desejadas
            </h1>
        </div>
        <div class="flex items-center justify-center gap-x-8 mt-8">
            <div class="flex items-center gap-2">
                <div
                    class="w-6 h-6 bg-[#CDCDCD] border border-[#9F9F9F] flex items-center justify-center rounded text-[#9F9F9F] text-lg">
                    X
                </div>
                <h1 class="font-bold">Ocupado</h1>
            </div>
            <div class="flex items-center gap-2">
                <div
                    class="w-6 h-6 bg-white border border-[#9F9F9F] flex items-center justify-center rounded text-[#9F9F9F] text-lg">

                </div>
                <h1 class="font-bold">Livre</h1>
            </div>
            <div class="flex items-center gap-2">
                <div
                    class="w-6 h-6 bg-[#507CDB] border border-[#507CDB] flex items-center justify-center rounded">
                </div>
                <h1 class="font-bold">Selecionado</h1>
            </div>
        </div>
        <div class="flex items-center justify-center gap-2 h-80 mt-8">
            <img
                src="https://queropassagem.com.br/images/onibus_desktop_frente.png"
                class="h-full object-contain">

            <div class="flex items-center justify-center h-full bg-white px-4">
                <div class="flex gap-2">
                    <div *ngFor="let column of organizedSeats[0]?.matrix"
                        class="flex flex-col-reverse gap-2">
                        <div
                            *ngFor="let seat of column"
                            class="w-12 h-12 rounded flex items-center justify-center"
                            [ngClass]="{
        'bg-gray-200 border border-gray-500': seat && seat.occupied && seat.seat,
        'bg-white !border border-[#9F9F9F] text-[#0d2240] font-black': seat && !seat.occupied && seat.seat,
        'bg-[#ebebeb] border border-[#d4d4d4]': seat && seat.occupied && seat.seat
    }">
                            <p *ngIf="seat && !seat.occupied">
                                {{ seat.seat }}
                            </p>
                            <p *ngIf="seat && seat.occupied && seat.seat"
                                class="text-[rgb(209,208,208)] text-4xl font-black">X</p>
                        </div>

                    </div>
                </div>
            </div>
            <img
                src="https://queropassagem.com.br/images/onibus_desktop_traseira.png"
                class="h-full object-contain">
        </div>

    </div>
</div>
